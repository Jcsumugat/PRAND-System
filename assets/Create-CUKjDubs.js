import{u as g,j as e,H as p}from"./app-DwwepQXc.js";import{A as f}from"./AuthenticatedLayout-B9VMHvEK.js";import{I as d,T as o}from"./TextInput-B1T-Y-TI.js";import{I as n}from"./InputLabel-ChzEKD-s.js";function _({deceasedRecords:c=[],selectedDeceased:l=null}){const{data:a,setData:t,post:m,processing:i,errors:r,reset:x}=g({deceased_record_id:l?.id||"",renewal_date:new Date().toISOString().split("T")[0],next_renewal_date:"",renewal_fee:"",status:"active",remarks:""}),u=s=>{s.preventDefault(),m(route("renewals.store"),{onSuccess:()=>x()})},b=()=>{if(a.renewal_date){const s=new Date(a.renewal_date);return s.setFullYear(s.getFullYear()+1),s.toISOString().split("T")[0]}return""},h=s=>{t("renewal_date",s),t("next_renewal_date",b())};return e.jsxs(f,{children:[e.jsx(p,{title:"Process Renewal"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-200 to-cyan-200 rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"PROCESS RENEWAL"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Record a renewal transaction for deceased"})]}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl shadow-lg p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-4 border-b pb-2",children:"DECEASED INFORMATION"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"deceased_record_id",value:"Select Deceased *",className:"text-gray-700 font-semibold"}),e.jsxs("select",{id:"deceased_record_id",value:a.deceased_record_id,className:"mt-1 block w-full bg-blue-50 border border-blue-200 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2",onChange:s=>t("deceased_record_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Choose a deceased record --"}),c.map(s=>e.jsxs("option",{value:s.id,children:[s.fullname," (Tomb: ",s.tomb_number,")"]},s.id))]}),e.jsx(d,{message:r.deceased_record_id,className:"mt-2"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deceased Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:l.fullname})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tomb Number"}),e.jsx("p",{className:"text-gray-900 font-medium",children:l.tomb_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tomb Location"}),e.jsx("p",{className:"text-gray-900 font-medium",children:l.tomb_location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Next of Kin"}),e.jsx("p",{className:"text-gray-900 font-medium",children:l.next_of_kin_name})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-4 border-b pb-2",children:"RENEWAL DETAILS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"renewal_date",value:"Renewal Date *",className:"text-gray-700 font-semibold"}),e.jsx(o,{id:"renewal_date",type:"date",value:a.renewal_date,className:"mt-1 block w-full bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500",onChange:s=>h(s.target.value),required:!0}),e.jsx(d,{message:r.renewal_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"next_renewal_date",value:"Next Renewal Date *",className:"text-gray-700 font-semibold"}),e.jsx(o,{id:"next_renewal_date",type:"date",value:a.next_renewal_date,className:"mt-1 block w-full bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500",onChange:s=>t("next_renewal_date",s.target.value),required:!0}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Auto-calculated to 1 year from renewal date"}),e.jsx(d,{message:r.next_renewal_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"renewal_fee",value:"Renewal Fee (₱) *",className:"text-gray-700 font-semibold"}),e.jsx(o,{id:"renewal_fee",type:"number",step:"0.01",min:"0",value:a.renewal_fee,className:"mt-1 block w-full bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500",onChange:s=>t("renewal_fee",s.target.value),placeholder:"0.00",required:!0}),e.jsx(d,{message:r.renewal_fee,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",value:"Renewal Status *",className:"text-gray-700 font-semibold"}),e.jsxs("select",{id:"status",value:a.status,className:"mt-1 block w-full bg-blue-50 border border-blue-200 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2",onChange:s=>t("status",s.target.value),required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsx(d,{message:r.status,className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"remarks",value:"Remarks (Optional)",className:"text-gray-700 font-semibold"}),e.jsx("textarea",{id:"remarks",value:a.remarks,className:"mt-1 block w-full bg-blue-50 border border-blue-200 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2",onChange:s=>t("remarks",s.target.value),rows:"3",placeholder:"Add any additional notes or remarks..."}),e.jsx(d,{message:r.remarks,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-lg p-6 border-2 border-blue-300",children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Renewal Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-semibold uppercase",children:"Renewal Fee"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:["₱",a.renewal_fee?parseFloat(a.renewal_fee).toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-semibold uppercase",children:"Renewal Date"}),e.jsx("p",{className:"text-sm font-bold text-blue-900 mt-1",children:a.renewal_date?new Date(a.renewal_date).toLocaleDateString("en-US",{month:"short",day:"2-digit"}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-semibold uppercase",children:"Next Renewal"}),e.jsx("p",{className:"text-sm font-bold text-blue-900 mt-1",children:a.next_renewal_date?new Date(a.next_renewal_date).toLocaleDateString("en-US",{month:"short",day:"2-digit"}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-semibold uppercase",children:"Status"}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full mt-1 ${a.status==="active"?"bg-green-100 text-green-800":a.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition shadow-lg",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition shadow-lg",children:i?"Processing Renewal...":"Process Renewal"})]})]})})]})]})}export{_ as default};
