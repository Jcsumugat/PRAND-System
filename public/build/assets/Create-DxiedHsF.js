import{u as g,j as e,H as u}from"./app-DwLtAwuT.js";import{A as h}from"./AuthenticatedLayout-DijVmoOi.js";import{I as l,T as m}from"./TextInput-uOe9QH4F.js";import{I as o}from"./InputLabel-CFjXZzip.js";function N({deceasedRecords:c=[],selectedDeceased:a=null}){const{data:s,setData:r,post:x,processing:d,errors:n,reset:p}=g({deceased_record_id:a?.id||"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_type:"initial",payment_method:"cash",official_receipt_number:"",remarks:""}),i=t=>{t.preventDefault(),x(route("payments.store"),{onSuccess:()=>p()})};return e.jsxs(h,{children:[e.jsx(u,{title:"Record Payment"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-200 to-emerald-200 rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"RECORD PAYMENT"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Process a new payment transaction"})]}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-lg p-8",children:e.jsxs("div",{onSubmit:i,component:"form",className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-4 border-b pb-2",children:"DECEASED INFORMATION"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(o,{htmlFor:"deceased_record_id",value:"Select Deceased *",className:"text-gray-700 font-semibold"}),e.jsxs("select",{id:"deceased_record_id",value:s.deceased_record_id,className:"mt-1 block w-full bg-green-50 border border-green-200 rounded-md shadow-sm focus:border-green-500 focus:ring-green-500 px-3 py-2",onChange:t=>r("deceased_record_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Choose a deceased record --"}),c.map(t=>e.jsxs("option",{value:t.id,children:[t.fullname," (Tomb: ",t.tomb_number,") - Status: ",t.payment_status]},t.id))]}),e.jsx(l,{message:n.deceased_record_id,className:"mt-2"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deceased Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:a.fullname})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tomb Number"}),e.jsx("p",{className:"text-gray-900 font-medium",children:a.tomb_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tomb Location"}),e.jsx("p",{className:"text-gray-900 font-medium",children:a.tomb_location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Status"}),e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${a.payment_status==="paid"?"bg-green-100 text-green-800":a.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.payment_status.charAt(0).toUpperCase()+a.payment_status.slice(1)})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-4 border-b pb-2",children:"PAYMENT DETAILS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"amount",value:"Amount (₱) *",className:"text-gray-700 font-semibold"}),e.jsx(m,{id:"amount",type:"number",step:"0.01",min:"0",value:s.amount,className:"mt-1 block w-full bg-green-50 border-green-200 focus:border-green-500 focus:ring-green-500",onChange:t=>r("amount",t.target.value),placeholder:"0.00",required:!0}),e.jsx(l,{message:n.amount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"payment_date",value:"Payment Date *",className:"text-gray-700 font-semibold"}),e.jsx(m,{id:"payment_date",type:"date",value:s.payment_date,className:"mt-1 block w-full bg-green-50 border-green-200 focus:border-green-500 focus:ring-green-500",onChange:t=>r("payment_date",t.target.value),required:!0}),e.jsx(l,{message:n.payment_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"payment_type",value:"Payment Type *",className:"text-gray-700 font-semibold"}),e.jsxs("select",{id:"payment_type",value:s.payment_type,className:"mt-1 block w-full bg-green-50 border border-green-200 rounded-md shadow-sm focus:border-green-500 focus:ring-green-500 px-3 py-2",onChange:t=>r("payment_type",t.target.value),required:!0,children:[e.jsx("option",{value:"initial",children:"Initial Payment"}),e.jsx("option",{value:"renewal",children:"Renewal Payment"}),e.jsx("option",{value:"penalty",children:"Penalty Payment"})]}),e.jsx(l,{message:n.payment_type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"payment_method",value:"Payment Method *",className:"text-gray-700 font-semibold"}),e.jsxs("select",{id:"payment_method",value:s.payment_method,className:"mt-1 block w-full bg-green-50 border border-green-200 rounded-md shadow-sm focus:border-green-500 focus:ring-green-500 px-3 py-2",onChange:t=>r("payment_method",t.target.value),required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"gcash",children:"GCash"}),e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"check",children:"Check"})]}),e.jsx(l,{message:n.payment_method,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"official_receipt_number",value:"Official Receipt Number (Optional)",className:"text-gray-700 font-semibold"}),e.jsx(m,{id:"official_receipt_number",type:"text",value:s.official_receipt_number,className:"mt-1 block w-full bg-green-50 border-green-200 focus:border-green-500 focus:ring-green-500",onChange:t=>r("official_receipt_number",t.target.value),placeholder:"e.g., OR-2025-0001"}),e.jsx(l,{message:n.official_receipt_number,className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(o,{htmlFor:"remarks",value:"Remarks (Optional)",className:"text-gray-700 font-semibold"}),e.jsx("textarea",{id:"remarks",value:s.remarks,className:"mt-1 block w-full bg-green-50 border border-green-200 rounded-md shadow-sm focus:border-green-500 focus:ring-green-500 px-3 py-2",onChange:t=>r("remarks",t.target.value),rows:"3",placeholder:"Add any additional notes or remarks..."}),e.jsx(l,{message:n.remarks,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg p-6 border-2 border-green-300",children:[e.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-4",children:"Payment Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold uppercase",children:"Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:["₱",s.amount?parseFloat(s.amount).toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold uppercase",children:"Type"}),e.jsx("p",{className:"text-sm font-bold text-green-900 mt-1 capitalize",children:s.payment_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold uppercase",children:"Method"}),e.jsx("p",{className:"text-sm font-bold text-green-900 mt-1 capitalize",children:s.payment_method==="gcash"?"GCash":s.payment_method==="bank_transfer"?"Bank Transfer":s.payment_method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold uppercase",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-green-900 mt-1",children:new Date(s.payment_date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"2-digit"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition shadow-lg",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:d,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition shadow-lg",children:d?"Recording Payment...":"Record Payment"})]})]})})]})]})}export{N as default};
